<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:orientation="vertical"
    android:background="#F5F5F5">

    <!-- Header -->
    <TextView
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:text="Analytics Dashboard - Accessibility Violation"
        android:textSize="20sp"
        android:textStyle="bold"
        android:textColor="#333333"
        android:gravity="center"
        android:padding="16dp"
        android:background="#FFFFFF"
        android:elevation="2dp" />

    <!-- Description -->
    <TextView
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:text="Violation: Dashboard widget lacks proper accessibility attributes, chart descriptions, and screen reader support."
        android:textSize="14sp"
        android:textColor="#666666"
        android:padding="12dp"
        android:background="#FFFFFF"
        android:elevation="2dp"
        android:layout_marginTop="8dp" />

    <!-- Filter Controls -->
    <LinearLayout
        android:id="@+id/filterContainer"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:orientation="vertical"
        android:padding="16dp"
        android:background="#FFFFFF"
        android:elevation="2dp"
        android:layout_marginTop="8dp">

        <!-- Filter Row 1 -->
        <LinearLayout
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:orientation="horizontal"
            android:layout_marginBottom="12dp">

            <LinearLayout
                android:layout_width="0dp"
                android:layout_height="wrap_content"
                android:layout_weight="1"
                android:orientation="vertical">

                <TextView
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:text="Time Range"
                    android:textSize="12sp"
                    android:textColor="#666666"
                    android:layout_marginBottom="4dp" />

                <Spinner
                    android:id="@+id/timeRangeSpinner"
                    android:layout_width="match_parent"
                    android:layout_height="40dp" />

            </LinearLayout>

            <LinearLayout
                android:layout_width="0dp"
                android:layout_height="wrap_content"
                android:layout_weight="1"
                android:orientation="vertical"
                android:layout_marginStart="16dp">

                <TextView
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:text="Data Type"
                    android:textSize="12sp"
                    android:textColor="#666666"
                    android:layout_marginBottom="4dp" />

                <Spinner
                    android:id="@+id/dataTypeSpinner"
                    android:layout_width="match_parent"
                    android:layout_height="40dp" />

            </LinearLayout>

        </LinearLayout>

        <!-- Filter Row 2 -->
        <LinearLayout
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:orientation="horizontal"
            android:gravity="center_vertical">

            <CheckBox
                android:id="@+id/showTrendCheckbox"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:text="Show Trend Line"
                android:textSize="14sp"
                android:checked="true" />

            <View
                android:layout_width="0dp"
                android:layout_height="1dp"
                android:layout_weight="1" />

            <Button
                android:id="@+id/refreshButton"
                android:layout_width="wrap_content"
                android:layout_height="36dp"
                android:text="Refresh"
                android:textSize="12sp"
                android:layout_marginEnd="8dp" />

            <Button
                android:id="@+id/exportButton"
                android:layout_width="wrap_content"
                android:layout_height="36dp"
                android:text="Export"
                android:textSize="12sp"
                android:backgroundTint="#4CAF50" />

        </LinearLayout>

    </LinearLayout>

    <!-- Chart Section -->
    <LinearLayout
        android:layout_width="match_parent"
        android:layout_height="0dp"
        android:layout_weight="1"
        android:orientation="vertical"
        android:background="#FFFFFF"
        android:elevation="2dp"
        android:layout_marginTop="8dp">

        <!-- Chart Header -->
        <LinearLayout
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:orientation="vertical"
            android:padding="16dp"
            android:background="#F8F9FA">

            <TextView
                android:id="@+id/chartTitle"
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:text="Analytics Dashboard"
                android:textSize="18sp"
                android:textStyle="bold"
                android:textColor="#333333" />

            <TextView
                android:id="@+id/chartDescription"
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:text="Showing revenue data for 7d"
                android:textSize="14sp"
                android:textColor="#666666"
                android:layout_marginTop="4dp" />

        </LinearLayout>

        <!-- Chart Container -->
        <LinearLayout
            android:id="@+id/chartContainer"
            android:layout_width="match_parent"
            android:layout_height="0dp"
            android:layout_weight="1"
            android:orientation="vertical"
            android:padding="16dp" />

        <!-- Legend -->
        <LinearLayout
            android:id="@+id/legendContainer"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:orientation="horizontal"
            android:padding="16dp"
            android:background="#F8F9FA" />

    </LinearLayout>

    <!-- Status Bar -->
    <LinearLayout
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:orientation="horizontal"
        android:padding="12dp"
        android:background="#FFFFFF"
        android:elevation="2dp"
        android:layout_marginTop="8dp">

        <TextView
            android:id="@+id/lastUpdated"
            android:layout_width="0dp"
            android:layout_height="wrap_content"
            android:layout_weight="1"
            android:text="Last updated: Never"
            android:textSize="12sp"
            android:textColor="#666666" />

        <ProgressBar
            android:id="@+id/loadingIndicator"
            android:layout_width="20dp"
            android:layout_height="20dp"
            android:visibility="gone" />

    </LinearLayout>

    <!-- Accessibility Issues Info -->
    <ScrollView
        android:layout_width="match_parent"
        android:layout_height="200dp"
        android:background="#FFFFFF"
        android:elevation="2dp"
        android:layout_marginTop="8dp">

        <LinearLayout
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:orientation="vertical"
            android:padding="16dp">

            <TextView
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:text="Accessibility Issues:"
                android:textSize="16sp"
                android:textStyle="bold"
                android:textColor="#333333"
                android:layout_marginBottom="8dp" />

            <TextView
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:text="• Missing chart descriptions: No alternative text for data visualization\n• Inaccessible chart controls: Filter controls not properly labeled\n• Missing data relationships: No way to understand chart data structure\n• Poor keyboard navigation: Chart controls not accessible via keyboard\n• Missing trend line descriptions: Trend lines not described to screen readers\n• Inaccessible legend: Legend items not properly associated with chart elements\n• Missing data values: Actual data values not accessible to screen readers\n• Poor color contrast: Chart colors may not meet contrast requirements\n• Missing chart context: No description of what the chart represents\n• Inaccessible export functionality: Export button lacks proper description"
                android:textSize="12sp"
                android:textColor="#333333"
                android:lineSpacingExtra="4dp" />

            <TextView
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:text="How to Fix:"
                android:textSize="16sp"
                android:textStyle="bold"
                android:textColor="#333333"
                android:layout_marginTop="16dp"
                android:layout_marginBottom="8dp" />

            <TextView
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:text="• Add comprehensive chart descriptions with android:contentDescription\n• Ensure all filter controls have proper labels\n• Provide data table alternative for chart data\n• Implement keyboard navigation for chart controls\n• Add descriptions for trend lines and other chart elements\n• Associate legend items with chart data\n• Provide accessible data values in text format\n• Ensure sufficient color contrast for all chart elements\n• Add detailed chart context and purpose descriptions\n• Add descriptive content for export functionality"
                android:textSize="12sp"
                android:textColor="#333333"
                android:lineSpacingExtra="4dp" />

        </LinearLayout>

    </ScrollView>

</LinearLayout>
