<Window x:Class="AccessibilityTest.KeyboardTrapInWidget"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Event Scheduler" Height="700" Width="800">
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>
        
        <!-- Form Content -->
        <ScrollViewer Grid.Row="0" Padding="20">
            <StackPanel>
                <Border Background="White" CornerRadius="8" Padding="24" 
                        Effect="{StaticResource {x:Static SystemParameters.DropShadowKey}}">
                    <StackPanel>
                        <!-- Event Title -->
                        <StackPanel Margin="0,0,0,16">
                            <TextBlock Text="Event Title *" FontSize="16" FontWeight="Bold" 
                                       Margin="0,0,0,8"/>
                            <TextBox Padding="12" FontSize="16" Text="Enter event title"/>
                        </StackPanel>
                        
                        <!-- Event Description -->
                        <StackPanel Margin="0,0,0,16">
                            <TextBlock Text="Description" FontSize="16" FontWeight="Bold" 
                                       Margin="0,0,0,8"/>
                            <TextBox Padding="12" FontSize="16" Height="100" 
                                     TextWrapping="Wrap" AcceptsReturn="True" 
                                     Text="Enter event description"/>
                        </StackPanel>
                        
                        <!-- Event Date and Time -->
                        <StackPanel Margin="0,0,0,16">
                            <TextBlock Text="Event Date & Time *" FontSize="16" FontWeight="Bold" 
                                       Margin="0,0,0,8"/>
                            
                            <!-- KEYBOARD TRAP IN WIDGET - Custom date picker that traps keyboard focus inside -->
                            <Border Background="LightGray" CornerRadius="8" Padding="16">
                                <StackPanel>
                                    <TextBlock Text="Select Date and Time" FontSize="14" FontWeight="Bold" 
                                               HorizontalAlignment="Center" Margin="0,0,0,12"/>
                                    
                                    <!-- Date Selection -->
                                    <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" 
                                                Margin="0,0,0,12">
                                        <Button Content="←" FontSize="18" Background="Blue" Foreground="White" 
                                                Width="40" Height="40" Margin="0,0,8,0" Click="PreviousMonth_Click"/>
                                        <TextBlock x:Name="MonthYear" Text="January 2024" FontSize="16" FontWeight="Bold" 
                                                   Width="120" TextAlignment="Center" VerticalAlignment="Center"/>
                                        <Button Content="→" FontSize="18" Background="Blue" Foreground="White" 
                                                Width="40" Height="40" Margin="8,0,0,0" Click="NextMonth_Click"/>
                                    </StackPanel>
                                    
                                    <!-- Calendar Grid -->
                                    <Grid Margin="0,0,0,12">
                                        <Grid.RowDefinitions>
                                            <RowDefinition Height="Auto"/>
                                            <RowDefinition Height="Auto"/>
                                        </Grid.RowDefinitions>
                                        
                                        <!-- Day Headers -->
                                        <Grid Grid.Row="0" Margin="0,0,0,8">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*"/>
                                                <ColumnDefinition Width="*"/>
                                                <ColumnDefinition Width="*"/>
                                                <ColumnDefinition Width="*"/>
                                                <ColumnDefinition Width="*"/>
                                                <ColumnDefinition Width="*"/>
                                                <ColumnDefinition Width="*"/>
                                            </Grid.ColumnDefinitions>
                                            
                                            <TextBlock Grid.Column="0" Text="S" FontSize="12" FontWeight="Bold" 
                                                       HorizontalAlignment="Center" Padding="8"/>
                                            <TextBlock Grid.Column="1" Text="M" FontSize="12" FontWeight="Bold" 
                                                       HorizontalAlignment="Center" Padding="8"/>
                                            <TextBlock Grid.Column="2" Text="T" FontSize="12" FontWeight="Bold" 
                                                       HorizontalAlignment="Center" Padding="8"/>
                                            <TextBlock Grid.Column="3" Text="W" FontSize="12" FontWeight="Bold" 
                                                       HorizontalAlignment="Center" Padding="8"/>
                                            <TextBlock Grid.Column="4" Text="T" FontSize="12" FontWeight="Bold" 
                                                       HorizontalAlignment="Center" Padding="8"/>
                                            <TextBlock Grid.Column="5" Text="F" FontSize="12" FontWeight="Bold" 
                                                       HorizontalAlignment="Center" Padding="8"/>
                                            <TextBlock Grid.Column="6" Text="S" FontSize="12" FontWeight="Bold" 
                                                       HorizontalAlignment="Center" Padding="8"/>
                                        </Grid>
                                        
                                        <!-- Calendar Days - KEYBOARD TRAP IN WIDGET -->
                                        <Grid Grid.Row="1">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*"/>
                                                <ColumnDefinition Width="*"/>
                                                <ColumnDefinition Width="*"/>
                                                <ColumnDefinition Width="*"/>
                                                <ColumnDefinition Width="*"/>
                                                <ColumnDefinition Width="*"/>
                                                <ColumnDefinition Width="*"/>
                                            </Grid.ColumnDefinitions>
                                            
                                            <Button Grid.Column="0" Content="1" FontSize="12" Background="Transparent" 
                                                    Padding="8" Margin="2" Click="SelectDate_Click"/>
                                            <Button Grid.Column="1" Content="2" FontSize="12" Background="Transparent" 
                                                    Padding="8" Margin="2" Click="SelectDate_Click"/>
                                            <Button Grid.Column="2" Content="3" FontSize="12" Background="Transparent" 
                                                    Padding="8" Margin="2" Click="SelectDate_Click"/>
                                            <Button Grid.Column="3" Content="4" FontSize="12" Background="Transparent" 
                                                    Padding="8" Margin="2" Click="SelectDate_Click"/>
                                            <Button Grid.Column="4" Content="5" FontSize="12" Background="Transparent" 
                                                    Padding="8" Margin="2" Click="SelectDate_Click"/>
                                            <Button Grid.Column="5" Content="6" FontSize="12" Background="Transparent" 
                                                    Padding="8" Margin="2" Click="SelectDate_Click"/>
                                            <Button Grid.Column="6" Content="7" FontSize="12" Background="Transparent" 
                                                    Padding="8" Margin="2" Click="SelectDate_Click"/>
                                            
                                            <Button Grid.Column="0" Content="8" FontSize="12" Background="Transparent" 
                                                    Padding="8" Margin="2" Click="SelectDate_Click"/>
                                            <Button Grid.Column="1" Content="9" FontSize="12" Background="Transparent" 
                                                    Padding="8" Margin="2" Click="SelectDate_Click"/>
                                            <Button Grid.Column="2" Content="10" FontSize="12" Background="Transparent" 
                                                    Padding="8" Margin="2" Click="SelectDate_Click"/>
                                            <Button Grid.Column="3" Content="11" FontSize="12" Background="Transparent" 
                                                    Padding="8" Margin="2" Click="SelectDate_Click"/>
                                            <Button Grid.Column="4" Content="12" FontSize="12" Background="Transparent" 
                                                    Padding="8" Margin="2" Click="SelectDate_Click"/>
                                            <Button Grid.Column="5" Content="13" FontSize="12" Background="Transparent" 
                                                    Padding="8" Margin="2" Click="SelectDate_Click"/>
                                            <Button Grid.Column="6" Content="14" FontSize="12" Background="Transparent" 
                                                    Padding="8" Margin="2" Click="SelectDate_Click"/>
                                            
                                            <Button Grid.Column="0" Content="15" FontSize="12" Background="Transparent" 
                                                    Padding="8" Margin="2" Click="SelectDate_Click"/>
                                            <Button Grid.Column="1" Content="16" FontSize="12" Background="Transparent" 
                                                    Padding="8" Margin="2" Click="SelectDate_Click"/>
                                            <Button Grid.Column="2" Content="17" FontSize="12" Background="Transparent" 
                                                    Padding="8" Margin="2" Click="SelectDate_Click"/>
                                            <Button Grid.Column="3" Content="18" FontSize="12" Background="Transparent" 
                                                    Padding="8" Margin="2" Click="SelectDate_Click"/>
                                            <Button Grid.Column="4" Content="19" FontSize="12" Background="Transparent" 
                                                    Padding="8" Margin="2" Click="SelectDate_Click"/>
                                            <Button Grid.Column="5" Content="20" FontSize="12" Background="Transparent" 
                                                    Padding="8" Margin="2" Click="SelectDate_Click"/>
                                            <Button Grid.Column="6" Content="21" FontSize="12" Background="Transparent" 
                                                    Padding="8" Margin="2" Click="SelectDate_Click"/>
                                            
                                            <Button Grid.Column="0" Content="22" FontSize="12" Background="Transparent" 
                                                    Padding="8" Margin="2" Click="SelectDate_Click"/>
                                            <Button Grid.Column="1" Content="23" FontSize="12" Background="Transparent" 
                                                    Padding="8" Margin="2" Click="SelectDate_Click"/>
                                            <Button Grid.Column="2" Content="24" FontSize="12" Background="Transparent" 
                                                    Padding="8" Margin="2" Click="SelectDate_Click"/>
                                            <Button Grid.Column="3" Content="25" FontSize="12" Background="Transparent" 
                                                    Padding="8" Margin="2" Click="SelectDate_Click"/>
                                            <Button Grid.Column="4" Content="26" FontSize="12" Background="Transparent" 
                                                    Padding="8" Margin="2" Click="SelectDate_Click"/>
                                            <Button Grid.Column="5" Content="27" FontSize="12" Background="Transparent" 
                                                    Padding="8" Margin="2" Click="SelectDate_Click"/>
                                            <Button Grid.Column="6" Content="28" FontSize="12" Background="Transparent" 
                                                    Padding="8" Margin="2" Click="SelectDate_Click"/>
                                            
                                            <Button Grid.Column="0" Content="29" FontSize="12" Background="Transparent" 
                                                    Padding="8" Margin="2" Click="SelectDate_Click"/>
                                            <Button Grid.Column="1" Content="30" FontSize="12" Background="Transparent" 
                                                    Padding="8" Margin="2" Click="SelectDate_Click"/>
                                            <Button Grid.Column="2" Content="31" FontSize="12" Background="Transparent" 
                                                    Padding="8" Margin="2" Click="SelectDate_Click"/>
                                        </Grid>
                                    </Grid>
                                    
                                    <!-- Time Selection -->
                                    <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" 
                                                Margin="0,0,0,12">
                                        <TextBlock Text="Time:" FontSize="14" FontWeight="Bold" 
                                                   VerticalAlignment="Center" Margin="0,0,8,0"/>
                                        <ComboBox x:Name="HourPicker" Width="80" Padding="8" FontSize="14" 
                                                  VerticalAlignment="Center" Margin="0,0,8,0">
                                            <ComboBoxItem Content="00" IsSelected="True"/>
                                            <ComboBoxItem Content="01"/>
                                            <ComboBoxItem Content="02"/>
                                            <ComboBoxItem Content="03"/>
                                            <ComboBoxItem Content="04"/>
                                            <ComboBoxItem Content="05"/>
                                            <ComboBoxItem Content="06"/>
                                            <ComboBoxItem Content="07"/>
                                            <ComboBoxItem Content="08"/>
                                            <ComboBoxItem Content="09"/>
                                            <ComboBoxItem Content="10"/>
                                            <ComboBoxItem Content="11"/>
                                            <ComboBoxItem Content="12"/>
                                            <ComboBoxItem Content="13"/>
                                            <ComboBoxItem Content="14"/>
                                            <ComboBoxItem Content="15"/>
                                            <ComboBoxItem Content="16"/>
                                            <ComboBoxItem Content="17"/>
                                            <ComboBoxItem Content="18"/>
                                            <ComboBoxItem Content="19"/>
                                            <ComboBoxItem Content="20"/>
                                            <ComboBoxItem Content="21"/>
                                            <ComboBoxItem Content="22"/>
                                            <ComboBoxItem Content="23"/>
                                        </ComboBox>
                                        <TextBlock Text=":" FontSize="14" FontWeight="Bold" 
                                                   VerticalAlignment="Center" Margin="0,0,8,0"/>
                                        <ComboBox x:Name="MinutePicker" Width="80" Padding="8" FontSize="14" 
                                                  VerticalAlignment="Center">
                                            <ComboBoxItem Content="00" IsSelected="True"/>
                                            <ComboBoxItem Content="15"/>
                                            <ComboBoxItem Content="30"/>
                                            <ComboBoxItem Content="45"/>
                                        </ComboBox>
                                    </StackPanel>
                                    
                                    <!-- Action Buttons - KEYBOARD TRAP IN WIDGET -->
                                    <StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
                                        <Button Content="Cancel" Background="Gray" Foreground="White" 
                                                Padding="8,16" FontSize="12" Margin="0,0,8,0" 
                                                Click="CancelDateSelection_Click"/>
                                        <Button Content="OK" Background="Blue" Foreground="White" 
                                                Padding="8,16" FontSize="12" Click="ConfirmDateSelection_Click"/>
                                    </StackPanel>
                                </StackPanel>
                            </Border>
                        </StackPanel>
                        
                        <!-- Event Location -->
                        <StackPanel Margin="0,0,0,16">
                            <TextBlock Text="Location" FontSize="16" FontWeight="Bold" 
                                       Margin="0,0,0,8"/>
                            <TextBox Padding="12" FontSize="16" Text="Enter event location"/>
                        </StackPanel>
                        
                        <!-- Event Type -->
                        <StackPanel Margin="0,0,0,32">
                            <TextBlock Text="Event Type" FontSize="16" FontWeight="Bold" 
                                       Margin="0,0,0,8"/>
                            <ComboBox Padding="12" FontSize="16">
                                <ComboBoxItem Content="Select event type" IsSelected="True"/>
                                <ComboBoxItem Content="Meeting"/>
                                <ComboBoxItem Content="Conference"/>
                                <ComboBoxItem Content="Workshop"/>
                                <ComboBoxItem Content="Social"/>
                                <ComboBoxItem Content="Other"/>
                            </ComboBox>
                        </StackPanel>
                        
                        <!-- Action Buttons -->
                        <StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
                            <Button Content="Cancel" Background="Transparent" Foreground="Gray" 
                                    Padding="24,12" FontSize="16" BorderBrush="Gray" BorderThickness="1" 
                                    Margin="0,0,16,0" Click="CancelEvent_Click"/>
                            <Button Content="Create Event" Background="Blue" Foreground="White" 
                                    Padding="24,12" FontSize="16" Click="CreateEvent_Click"/>
                        </StackPanel>
                    </StackPanel>
                </Border>
            </StackPanel>
        </ScrollViewer>
    </Grid>
</Window>
